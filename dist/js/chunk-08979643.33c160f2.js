(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08979643"],{"0952":function(t,e,a){},dbb7:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col-xl-12 order-xl-1 pl-3 pr-3 pt-4"},[a("card",{attrs:{shadow:"",type:"secondary"}},[a("div",{staticClass:"bg-white border-0",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-8"},[a("h3",{staticClass:"mb-0"},[t._v("Master Data")])])])]),[a("form",{on:{submit:function(t){t.preventDefault()}}},[t._l(t.forms,(function(e){return a("div",{key:e.label},[a("label",{staticStyle:{"font-size":"13px","margin-top":"10px"}},[t._v(" "+t._s(e.label)),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),"text"==e.type?a("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"text",required:e.required,placeholder:e.placeholder},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}}):t._e(),"currency"==e.type?a("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"number",required:e.required,placeholder:e.placeholder},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}}):t._e(),"currency"==e.type?a("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"text",value:t.formatRupiah(e.text),disabled:""}}):t._e(),"select_box"==e.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"form.text"}],staticClass:"form-control",staticStyle:{"margin-bottom":"10px"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"text",a.target.multiple?o:o[0])}}},[a("option",{attrs:{selected:"",disabled:""}},[t._v("-PILIH-")]),t._l(e.option,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2):t._e(),"date"==e.type?a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(o){var r=o.focus,i=o.blur;return a("flat-picker",{staticClass:"form-control datepicker",staticStyle:{"background-color":"#fff","margin-bottom":"10px"},attrs:{config:{dateFormat:"d-m-Y"}},on:{"on-open":r,"on-close":i},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}})}}],null,!0)}):t._e(),"radio"==e.type?a("span",{staticStyle:{"margin-bottom":"10px"}},t._l(e.option,(function(o){return a("base-radio",{key:o.value,staticClass:"mb-3",attrs:{name:o.value,value:"1"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}},[t._v(" "+t._s(o.label)+" ")])})),1):t._e()],1)})),a("hr",{staticClass:"my-4"}),a("base-button",{attrs:{type:"primary"},on:{click:function(e){return t.validateData()}}},[t._v(t._s(t.mode)+" Data")]),a("base-button",{attrs:{outline:"",type:"danger"},on:{click:function(e){return t.goBack()}}},[t._v("Batal")])],2)]],2)],1)])},r=[],i=a("c38f"),n=a.n(i);a("0952");function s(){var t={Services:l()};return t}function l(){var t={title:"Edit Service",code:"SER",inputs:[{label:"Nama Layanan",required:!0,text:"",placeholder:"Masukan Nama Layanan",type:"text"},{label:"Harga/bulan",required:!0,text:"",placeholder:"Masukan Harga",type:"currency"},{label:"Status",required:!0,text:"1",type:"radio",option:[{label:"Aktif",value:"1"},{label:"Tidak Aktif",value:"0"}]}],urlToGet:"/tv.netAPI/v1/services/get.php",urlToPost:"/tv.netAPI/v1/services/insert_edit.php"};return t}var c=a("0bfe"),u=a("bc3a"),d={name:"masteredit",data:function(){return{forms:[],masteredit_mode:"add",selector:"",urlToGet:"",urlToPost:"",code:"STF",mode:"Tambah"}},methods:{validateData:function(){for(var t=0,e="?",a=0;a<this.forms.length;a++){if(1==this.forms[a].required){if(""==this.forms[a].text||void 0==this.forms[a].text||"undefined"==this.forms[a].text||"-PILIH-"==this.forms[a].text){t=0,this.$swal({icon:"error",title:"Validasi Gagal",text:"Lengkapi semua data yang bertanda *"});break}t=1}else t=1;1==t&&(e=e+"data_"+a+"="+this.forms[a].text+"&")}if(1==t){var o=confirm("Anda yakin akan menyimpan perubahan ini?");if(1==o){var r=this.urlToPost+e+"data_id="+this.masteredit_mode;this.sendDataToServer(r)}}},sendDataToServer:function(t){var e=this,a=this;this.$swal({icon:"warning",title:"Mohon tunggu",text:"Sedang Mengirim data...",allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,onBeforeOpen:function(){e.$swal.showLoading()}}),u.get(t).then((function(t){console.log(t),a.$swal({icon:"success",title:"Proses Berhasil",confirmButtonText:"Lanjut",text:"Data berhasil dirubah",preConfirm:function(){window.history.go(-1)}})})).catch((function(t){console.log(t),a.$swal({icon:"error",title:"Proses Gagal",confirmButtonText:"Coba Lagi",text:"Gagal mengambil data, server anda mungkin sedang bermasalah",preConfirm:function(){a.validateData()}})}))},getSpecificData:function(){var t=this;"add"!=this.masteredit_mode?u.get(this.urlToGet).then((function(e){console.log(e);for(var a=0,o=0;o<e.data[0].length;o++)"id"!=e.data[0][o].type&&(t.forms[a].text=e.data[0][o].data,a++);t.mode="Ubah"})).catch((function(t){console.log(t)})):this.masteredit_mode=Object(c["d"])(this.code)},goBack:function(){window.history.go(-1)},formatRupiah:function(t){return Object(c["b"])(t,"Rp. ")}},created:function(){this.masteredit_mode=this.$route.params.masteredit_mode,this.selector=this.$route.params.selector,this.forms=s()[this.selector].inputs,console.log(s()),this.urlToGet=c["a"]+s()[this.selector].urlToGet+"?id="+this.masteredit_mode,console.log(this.urlToGet),this.urlToPost=c["a"]+s()[this.selector].urlToPost,this.code=s()[this.selector].code,this.getSpecificData(),document.body.scrollTop=0,document.documentElement.scrollTop=0},components:{flatPicker:n.a}},m=d,f=a("2877"),p=Object(f["a"])(m,o,r,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-08979643.33c160f2.js.map