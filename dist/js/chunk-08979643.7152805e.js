(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08979643"],{"0952":function(t,e,a){},dbb7:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col-xl-12 order-xl-1 pl-3 pr-3 pt-4"},[a("card",{attrs:{shadow:"",type:"secondary"}},[a("div",{staticClass:"bg-white border-0",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-8"},[a("h3",{staticClass:"mb-0"},[t._v("Master Data")])])])]),[a("form",{on:{submit:function(t){t.preventDefault()}}},[t._l(t.forms,(function(e){return a("div",{key:e.label},[a("label",{staticStyle:{"font-size":"13px","margin-top":"10px"}},[t._v(" "+t._s(e.label)),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),"text"==e.type?a("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"text",required:e.required,placeholder:e.placeholder,disabled:e.disabled},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}}):t._e(),"currency"==e.type?a("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"number",required:e.required,placeholder:e.placeholder},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}}):t._e(),"currency"==e.type?a("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"text",value:t.formatRupiah(e.text),disabled:""}}):t._e(),"select_box"==e.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"form.text"}],staticClass:"form-control",staticStyle:{"margin-bottom":"10px"},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"text",a.target.multiple?r:r[0])}}},[a("option",{attrs:{selected:"",disabled:""}},[t._v("-PILIH-")]),t._l(e.option,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2):t._e(),"date"==e.type?a("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.focus,i=r.blur;return a("flat-picker",{staticClass:"form-control datepicker",staticStyle:{"background-color":"#fff","margin-bottom":"10px"},attrs:{config:{dateFormat:"d-m-Y"}},on:{"on-open":o,"on-close":i},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}})}}],null,!0)}):t._e(),"radio"==e.type?a("span",{staticStyle:{"margin-bottom":"10px"}},t._l(e.option,(function(r){return a("base-radio",{key:r.value,staticClass:"mb-3",attrs:{name:r.value,value:"1"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"form.text"}},[t._v(" "+t._s(r.label)+" ")])})),1):t._e()],1)})),a("hr",{staticClass:"my-4"}),0==t.hideButton?a("base-button",{attrs:{type:"primary"},on:{click:function(e){return t.validateData()}}},[t._v(t._s(t.mode)+" Data")]):t._e(),a("base-button",{attrs:{outline:"",type:"danger"},on:{click:function(e){return t.goBack()}}},[t._v("Batal")])],2)]],2)],1)])},o=[],i=a("c38f"),n=a.n(i);a("0952");function s(){var t={Services:l(),User:c(),Transaksi:d()};return t}function l(){var t={title:"Edit Service",code:"SER",hideButton:!1,inputs:[{label:"Nama Layanan",required:!0,text:"",placeholder:"Masukan Nama Layanan",type:"text"},{label:"Harga/bulan",required:!0,text:"",placeholder:"Masukan Harga",type:"currency"},{label:"Status",required:!0,text:"1",type:"radio",option:[{label:"Aktif",value:"1"},{label:"Tidak Aktif",value:"0"}]}],urlToGet:"/tv.netAPI/v1/services/get.php",urlToPost:"/tv.netAPI/v1/services/insert_edit.php"};return t}function c(){var t={title:"Edit User",code:"ADM",hideButton:!1,inputs:[{label:"Nama Pengguna",required:!0,text:"",placeholder:"Masukan Nama Pengguna",type:"text"},{label:"Kata Sandi",required:!0,text:"",placeholder:"Masukan Kata Sandi",type:"text"}],urlToGet:"/tv.netAPI/v1/user/get.php",urlToPost:"/tv.netAPI/v1/user/insert_edit.php"};return t}function d(){var t={title:"Edit User",code:"TRC",hideButton:!0,inputs:[{label:"Nama Pengguna",required:!0,text:"",disabled:!0,placeholder:"Masukan Nama Pengguna",type:"text"},{label:"Nama Layanan",required:!0,text:"",disabled:!0,placeholder:"Nama Layanan",type:"text"},{label:"Nominal Pembayaran",required:!0,text:"",disabled:!0,placeholder:"Masukan Kata Sandi",type:"currency"},{label:"Kata Sandi",required:!0,text:"",disabled:!0,placeholder:"Masukan Kata Sandi",type:"text"},{label:"Kata Sandi",required:!0,text:"",disabled:!0,placeholder:"Masukan Kata Sandi",type:"text"}],urlToGet:"/tv.netAPI/v1/billing/get.php",urlToPost:"/tv.netAPI/v1/billing/insert_edit.php"};return t}var u=a("0bfe"),p=a("bc3a"),m={name:"masteredit",data:function(){return{forms:[],masteredit_mode:"add",selector:"",urlToGet:"",urlToPost:"",code:"STF",mode:"Tambah",hideButton:!1}},methods:{validateData:function(){for(var t=0,e="?",a=0;a<this.forms.length;a++){if(1==this.forms[a].required){if(""==this.forms[a].text||void 0==this.forms[a].text||"undefined"==this.forms[a].text||"-PILIH-"==this.forms[a].text){t=0,this.$swal({icon:"error",title:"Validasi Gagal",text:"Lengkapi semua data yang bertanda *"});break}t=1}else t=1;1==t&&(e=e+"data_"+a+"="+this.forms[a].text+"&")}if(1==t){var r=confirm("Anda yakin akan menyimpan perubahan ini?");if(1==r){var o=this.urlToPost+e+"data_id="+this.masteredit_mode;this.sendDataToServer(o)}}},sendDataToServer:function(t){var e=this,a=this;this.$swal({icon:"warning",title:"Mohon tunggu",text:"Sedang Mengirim data...",allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,onBeforeOpen:function(){e.$swal.showLoading()}}),p.get(t).then((function(t){console.log(t),a.$swal({icon:"success",title:"Proses Berhasil",confirmButtonText:"Lanjut",text:"Data berhasil dirubah",preConfirm:function(){window.history.go(-1)}})})).catch((function(t){console.log(t),a.$swal({icon:"error",title:"Proses Gagal",confirmButtonText:"Coba Lagi",text:"Gagal mengambil data, server anda mungkin sedang bermasalah",preConfirm:function(){a.validateData()}})}))},getSpecificData:function(){var t=this;"add"!=this.masteredit_mode?p.get(this.urlToGet).then((function(e){console.log(e);for(var a=0,r=0;r<e.data[0].length;r++)"id"!=e.data[0][r].type&&(t.forms[a].text=e.data[0][r].data,a++);Object(u["g"])(t.$swal),t.mode="Ubah"})).catch((function(t){console.log(t)})):this.masteredit_mode=Object(u["e"])(this.code)},goBack:function(){window.history.go(-1)},formatRupiah:function(t){return Object(u["c"])(t,"Rp. ")}},created:function(){Object(u["f"])(this.$swal),this.masteredit_mode=this.$route.params.masteredit_mode,this.selector=this.$route.params.selector,this.forms=s()[this.selector].inputs,console.log(s()),this.urlToGet=u["b"]+s()[this.selector].urlToGet+"?id="+this.masteredit_mode,console.log(this.urlToGet),this.urlToPost=u["b"]+s()[this.selector].urlToPost,this.code=s()[this.selector].code,this.hideButton=s()[this.selector].hideButton,this.getSpecificData(),document.body.scrollTop=0,document.documentElement.scrollTop=0},components:{flatPicker:n.a}},h=m,f=a("2877"),b=Object(f["a"])(h,r,o,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-08979643.7152805e.js.map