(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demo"],{"09e0":function(t,a,e){},"2b56":function(t,a,e){"use strict";var n=e("09e0"),o=e.n(n);o.a},6644:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"col-xl-12 order-xl-1 p-3"},[e("card",{attrs:{shadow:"",type:"secondary"}},[e("div",{staticClass:"bg-white border-0",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-8"},[e("h3",{staticClass:"mb-0"},[t._v("Instalasi Baru")])])])]),[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("label",{staticStyle:{"font-size":"13px","margin-top":"10px"}},[t._v(" Nama Pelanggan"),e("span",{staticStyle:{color:"red"}},[t._v(" *")])]),e("base-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"text",required:"true",placeholder:"Nama Pelanggan"},model:{value:t.data.accounts_name,callback:function(a){t.$set(t.data,"accounts_name",a)},expression:"data.accounts_name"}}),e("label",{staticStyle:{"font-size":"13px","margin-top":"10px"}},[t._v(" Pilih Layanan"),e("span",{staticStyle:{color:"red"}},[t._v(" *")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.accounts_service,expression:"data.accounts_service"}],staticClass:"form-control",staticStyle:{"margin-bottom":"10px"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.data,"accounts_service",a.target.multiple?e:e[0])}}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("-PILIH-")]),t._l(t.services,(function(a){return e("option",{key:a},[t._v(t._s(a))])}))],2),e("label",{staticStyle:{"font-size":"13px","margin-top":"10px"}},[t._v(" Tanggal"),e("span",{staticStyle:{color:"red"}},[t._v(" *")])]),e("base-input",{attrs:{"addon-left-icon":"ni ni-calendar-grid-58"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.focus,o=a.blur;return e("flat-picker",{staticClass:"form-control datepicker",attrs:{config:{dateFormat:"d-m-Y"}},on:{"on-open":n,"on-close":o},model:{value:t.data.accounts_join_date,callback:function(a){t.$set(t.data,"accounts_join_date",a)},expression:"data.accounts_join_date"}})}}])}),e("label",{staticStyle:{"font-size":"13px","margin-top":"0px"}},[t._v(" Pilih Lokasi Pemasangan"),e("span",{staticStyle:{color:"red"}},[t._v(" *")])]),e("div",{staticStyle:{width:"100%",height:"100px"}},[e("MglMap",{staticStyle:{height:"350px",position:"relative"},attrs:{accessToken:"pk.eyJ1IjoienJlZGhhcmQiLCJhIjoiY2s4dGI0bzhxMDJjdzNsbGtmOXVtNDNvciJ9.kLnTWH6orAW2JwEn44b73g",mapStyle:t.mapStyle,center:t.coordinates,zoom:13,minZoom:t.minZoom,maxZoom:t.maxZoom},on:{"update:mapStyle":function(a){t.mapStyle=a},"update:map-style":function(a){t.mapStyle=a}}},[e("MglMarker",{ref:"marker1",attrs:{coordinates:t.markerCoordinates,color:"blue",draggable:"true"},on:{"update:coordinates":function(a){t.markerCoordinates=a},dragend:function(a){return t.getLotAndLong()}},model:{value:t.data.accounts_lat,callback:function(a){t.$set(t.data,"accounts_lat",a)},expression:"data.accounts_lat"}})],1)],1),e("p",{staticStyle:{"margin-bottom":"270px"}}),e("hr",{staticClass:"mb-3"}),e("span",{staticStyle:{"font-size":"13.5px"}},[e("div",{staticClass:"row mb-1 mt-0"},[e("div",{staticClass:"col-6"},[t._v("Biaya Paket")]),e("div",{staticClass:"col-6 text-right"},[t._v(t._s(t.formatRupiah(t.price.packet)))])]),e("div",{staticClass:"row mb-1 mt-3"},[e("div",{staticClass:"col-6"},[t._v("Pemasangan")]),e("div",{staticClass:"col-6 text-right"},[t._v(t._s(t.formatRupiah(t.price.admin)))])]),e("div",{staticClass:"row mb-1 mt-3 mb-4"},[e("div",{staticClass:"col-6",staticStyle:{"font-size":"17px","font-weight":"bold"}},[t._v("Biaya Total")]),e("div",{staticClass:"col-6 text-right",staticStyle:{"font-size":"17px","margin-top":"3px"}},[t._v(t._s(t.formatRupiah(t.price.total)))])])]),e("base-button",{staticClass:"w-100",attrs:{type:"primary"},on:{click:function(a){return t.validateData()}}},[t._v("Pemasangan Baru")]),e("p",{staticClass:"mt-4 mb-1 text-danger",staticStyle:{"font-size":"12px","font-weight":"bold","text-align":"center"}},[t._v("* Pemasangan sudah termasuk dengan pembayaran bulan pertama")])],1)]],2)],1)])},o=[],i=(e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("1276"),e("3f3d")),s=e("0bfe"),c=e("c38f"),r=e.n(c),l=e("bc3a"),u={components:{MglMap:i["a"],MglMarker:i["b"],flatPicker:r.a},data:function(){return{markerCoordinates:[124.317687,1.047018],mapStyle:"mapbox://styles/mapbox/streets-v11",coordinates:[124.317687,1.047018],minZoom:8,maxZoom:17,mapboxAccessToken:"pk.eyJ1IjoienJlZGhhcmQiLCJhIjoiY2s4dGI0bzhxMDJjdzNsbGtmOXVtNDNvciJ9.kLnTWH6orAW2JwEn44b73g",data:{accounts_name:"",accounts_service:"-PILIH-",accounts_join_date:"",accounts_lat:"",accounts_long:"",officer_id:""},price:{packet:0,admin:5e4,total:0},services:[]}},watch:{"data.accounts_service":function(t){var a=t.split("-");this.price.packet=a[2],this.price.total=parseInt(this.price.admin)+parseInt(this.price.packet)}},methods:{formatRupiah:function(t){return Object(s["c"])(t.toString(),"Rp. ")},getServiceData:function(){var t=this;this.$swal({icon:"warning",title:"Mohon tunggu",text:"Sedang Mengambil data...",allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,onBeforeOpen:function(){t.$swal.showLoading()}});var a=this;l.get(s["b"]+"/tv.netAPI/v1/services/get.php").then((function(t){console.log(t),a.$swal.close();var e=0,n=[];for(e;e<t.data.raw_data.length;e++){var o=t.data.raw_data[e][0].data+"-"+t.data.raw_data[e][1].data+"-"+t.data.raw_data[e][2].data;n[e]=o}a.services=n})).catch((function(t){console.log(t)}))},getLotAndLong:function(){this.data.accounts_lat=this.markerCoordinates[1],this.data.accounts_long=this.markerCoordinates[0]},validateData:function(){var t=this;if(""!=this.data.accounts_name&&"-PILIH-"!=this.data.accounts_service&&""!=this.data.accounts_join_date&&""!=this.data.accounts_lat&&""!=this.data.accounts_long){var a=this.data.accounts_service.split("-");this.data.accounts_service=a[0]+"."+a[1];var e="?accounts_name="+this.data.accounts_name;e+="&accounts_service="+a[0],e+="&accounts_join_date="+this.data.accounts_join_date,e+="&accounts_lat="+this.data.accounts_lat,e+="&accounts_long="+this.data.accounts_long,e+="&price_packet="+this.price.packet,e+="&price_admin="+this.price.admin,e+="&price_total="+this.price.total,this.$swal({icon:"warning",title:"Mohon tunggu",text:"Sedang Mengirim data...",allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,onBeforeOpen:function(){t.$swal.showLoading()}});var n=this;l.get(s["b"]+"/tv.netAPI/v1/services/new_instalation.php"+e).then((function(t){console.log(t),n.$swal({icon:"success",title:"Penambahan Data Berhasil",confirmButtonText:"Lanjut",text:"Data berhasil ditambahkan"}),n.$router.replace("/")})).catch((function(t){console.log(t)}))}else alert("Harap mengisi semua kotak yang tersedia")}},created:function(){this.getServiceData(),this.data.officer_id=this.$route.params.officer_id,this.price.total=parseInt(this.price.admin)+parseInt(this.price.packet)}},p=u,m=e("2877"),d=Object(m["a"])(p,n,o,!1,null,null,null);a["default"]=d.exports},7277:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"legend"},[e("p",{on:{click:function(a){return t.$refs.tes[6].remove()}}},[e("i",{staticClass:"ni ni-pin-3",staticStyle:{color:"#e74c3c"}}),t._v(" BELUM MEMBAYAR")]),t._m(0),t._m(1)]),e("div",{staticClass:"settings"},[e("p",[t._v("Pengaturan")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.month_select,expression:"month_select"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.month_select=a.target.multiple?e:e[0]}}},[e("option",[t._v("Januari")]),e("option",[t._v("Februari")]),e("option",[t._v("Maret")]),e("option",[t._v("April")]),e("option",[t._v("Mei")]),e("option",[t._v("Juni")]),e("option",[t._v("Juli")]),e("option",[t._v("Agustus")]),e("option",[t._v("September")]),e("option",[t._v("Oktober")]),e("option",[t._v("November")]),e("option",[t._v("Desember")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.year_select,expression:"year_select"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.year_select=a.target.multiple?e:e[0]}}},[e("option",[t._v("2020")]),e("option",[t._v("2021")]),e("option",[t._v("2022")]),e("option",[t._v("2023")]),e("option",[t._v("2024")]),e("option",[t._v("2025")]),e("option",[t._v("2026")]),e("option",[t._v("2027")]),e("option",[t._v("2028")]),e("option",[t._v("2029")]),e("option",[t._v("2030")])]),e("p",[t._v("Visualisasi")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.legend_select,expression:"legend_select"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.legend_select=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1"}},[t._v("Tampilkan Semua")]),e("option",{attrs:{value:"2"}},[t._v("Belum Membayar")]),e("option",{attrs:{value:"3"}},[t._v("Sudah Membayar")])])]),e("MglMap",{ref:"mapbox",attrs:{accessToken:"pk.eyJ1IjoienJlZGhhcmQiLCJhIjoiY2s4dGI0bzhxMDJjdzNsbGtmOXVtNDNvciJ9.kLnTWH6orAW2JwEn44b73g",mapStyle:t.mapStyle,center:t.coordinates,zoom:13,minZoom:t.minZoom,maxZoom:t.maxZoom},on:{"update:mapStyle":function(a){t.mapStyle=a},"update:map-style":function(a){t.mapStyle=a}}},[e("span",t._l(t.data,(function(a){return e("MglMarker",{key:a.customer_id,ref:"tes",refInFor:!0,attrs:{coordinates:a.customer_loc,color:t.check_color(a)}},[e("span",{staticStyle:{"font-size":"25px"},attrs:{slot:"marker"},slot:"marker"},[a.billing.num_of_month>0&&(1==t.legend_select||2==t.legend_select)?e("i",{staticClass:"ni ni-pin-3",staticStyle:{color:"#e74c3c"}}):t._e(),0!=a.billing.num_of_month||1!=t.legend_select&&3!=t.legend_select?t._e():e("i",{staticClass:"ni ni-pin-3",staticStyle:{color:"#2ecc71"}})]),e("MglPopup",{attrs:{coordinates:a.customer_loc,anchor:"top"}},[e("VCard",[e("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[e("div",{staticStyle:{"margin-left":"-3px","margin-top":"15px","margin-bottom":"10px","font-size":"16px"}},[0==a.billing.num_of_month?e("span",{staticClass:"badge badge-pill badge-success"},[t._v("Tidak Ada Tagihan")]):e("span",{staticClass:"badge badge-pill badge-danger"},[t._v("Tagihan Belum Dibayar")])]),e("p",{staticStyle:{"margin-bottom":"5px","font-size":"12px","font-weight":"bold","margin-top":"10px"}},[t._v(t._s(a.customer_id))]),e("p",{staticStyle:{"margin-bottom":"1px"}},[t._v(t._s(a.customer_name))]),a.billing.num_of_month>0?e("p",{staticClass:"mt-0"},[t._v("["+t._s(a.billing.num_of_month)+"] Bulan Tagihan")]):e("p",[t._v("Tidak ada tagihan bulan ini")]),e("h4",{staticClass:"mb-0"},[t._v("Layanan "+t._s(a.customer_ser))]),e("p",[t._v(t._s(t.formatRupiah(a.billing_price)))]),e("base-button",{staticClass:"mb-2",attrs:{type:"primary"}},[t._v("Data Pelanggan")]),e("router-link",{attrs:{to:"/bill/"+a.customer_id+"-"+t.month_select_numeric+"-"+t.year_select}},[a.billing.num_of_month>0?e("base-button",{attrs:{type:"success"}},[t._v("Bill")]):t._e()],1)],1)])],1)],1)})),1)])],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[e("i",{staticClass:"ni ni-pin-3",staticStyle:{color:"#2ecc71"}}),t._v(" LUNAS")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticStyle:{"margin-bottom":"10px"}},[e("i",{staticClass:"ni ni-pin-3",staticStyle:{color:"#f1c40f"}}),t._v(" PELANGGAN BARU")])}],i=e("3f3d"),s=e("0bfe"),c=e("bc3a"),r={components:{MglMap:i["a"],MglMarker:i["b"],MglPopup:i["c"],VCard:i["VCard"]},data:function(){return{mapStyle:"mapbox://styles/mapbox/streets-v11",coordinates:[124.317687,1.047018],minZoom:3,maxZoom:17,mapboxAccessToken:"pk.eyJ1IjoienJlZGhhcmQiLCJhIjoiY2s4dGI0bzhxMDJjdzNsbGtmOXVtNDNvciJ9.kLnTWH6orAW2JwEn44b73g",data:[],month_select:"April",month_select_numeric:4,year_select:"2021",legend_select:1}},watch:{month_select:function(t){this.month_select_numeric=this.reconfigureMonth(t),this.getData(this.reconfigureMonth(t),this.year_select),console.log(this.$refs.tes)},year_select:function(){this.getData(this.reconfigureMonth(this.month_select),this.year_select)}},methods:{getData:function(t,a){var e=this;this.$swal({icon:"warning",title:"Mohon tunggu",text:"Sedang Mengirim data...",allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,onBeforeOpen:function(){e.$swal.showLoading()}});var n=s["b"]+"/tv.netAPI/v1/transaction/get.php?month_select="+t+"&year_select="+a,o=this;c.get(n).then((function(t){console.log(t),o.$swal.close(),o.data=t.data})).catch((function(t){console.log(t)}))},check_color:function(t){return t.billing.num_of_month>0?"red":"green"},reconfigureMonth:function(t){var a=11;switch(t){case"Januari":a=1;break;case"Februari":a=2;break;case"Maret":a=3;break;case"April":a=4;break;case"Mei":a=5;break;case"Juni":a=6;break;case"Juli":a=7;break;case"Agustus":a=8;break;case"September":a=9;break;case"Oktober":a=10;break;case"November":a=11;break;case"Desember":a=12;break}return a},formatRupiah:function(t){return Object(s["c"])(String(t),"Rp. ")}},created:function(){this.getData(this.reconfigureMonth(this.month_select),this.year_select)}},l=r,u=(e("2b56"),e("2877")),p=Object(u["a"])(l,n,o,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=demo.6cdf440c.js.map